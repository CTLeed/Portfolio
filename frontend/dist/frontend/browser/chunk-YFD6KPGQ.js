import{B as x,C as b,D as l,F as o,G as h,H as y,I as A,J as D,K as F,L as M,N as S,O as T,P as I,T as V,U as N,V as $,W as U,X as R,Z as G,_ as B,d as P,e as E,ea as H,f as _,g as O,h as m,ha as L,i as p,ia as v,ja as q,ka as W,ma as z,na as J,oa as K,p as s,pa as Q,qa as X,ra as Y,sa as Z,t as f,ta as ee,u as g,v as k,w as r,x as t,y as u}from"./chunk-NU52X5WQ.js";import{a as C,b as j}from"./chunk-4CLCTAJ7.js";var w=class n{constructor(i){this.http=i}apiUrl=`${ee.apiUrl}/admin`;httpOptions={headers:new G({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`})};getProjects(){return this.http.get(`${this.apiUrl}/projects`,this.httpOptions)}createProject(i){return this.http.post(`${this.apiUrl}/projects`,i,this.httpOptions)}updateProject(i,e){return this.http.put(`${this.apiUrl}/projects/${i}`,e,this.httpOptions)}deleteProject(i){return this.http.delete(`${this.apiUrl}/projects/${i}`,this.httpOptions)}getMessages(){return this.http.get(`${this.apiUrl}/contact`,this.httpOptions)}deleteMessage(i){return this.http.delete(`${this.apiUrl}/contact/${i}`,this.httpOptions)}updateAbout(i){return this.http.put(`${this.apiUrl}/about`,{content:i},this.httpOptions)}getAbout(){return this.http.get(`${this.apiUrl}/about`,this.httpOptions)}static \u0275fac=function(e){return new(e||n)(E(B))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};function re(n,i){if(n&1){let e=x();r(0,"button",11),b("click",function(){let d=m(e).$implicit,c=l();return p(c.selectedTab=d)}),o(1),S(2,"titlecase"),t()}if(n&2){let e=i.$implicit,a=l();k("bg-gray-800",a.selectedTab===e)("border-orange-400",a.selectedTab===e)("text-orange-400",a.selectedTab===e)("text-gray-400",a.selectedTab!==e)("border-transparent",a.selectedTab!==e),s(),y(" ",T(2,11,e)," ")}}function oe(n,i){if(n&1){let e=x();r(0,"tr",34)(1,"td",35),o(2),t(),r(3,"td",36),o(4),t(),r(5,"td",37),o(6),t(),r(7,"td",38)(8,"button",39),b("click",function(){let d=m(e).$implicit,c=l(2);return p(c.editProject(d))}),o(9,"Edit"),t(),r(10,"button",40),b("click",function(){let d=m(e).$implicit,c=l(2);return p(c.deleteProject(d.id))}),o(11,"Delete"),t()()()}if(n&2){let e=i.$implicit;s(2),h(e.name),s(2),h(e.role),s(2),h(e.technologies.join(", "))}}function ne(n,i){if(n&1){let e=x();r(0,"div",12)(1,"div",13)(2,"h2",14),o(3,"Add/Edit Project"),t(),r(4,"form",15),b("ngSubmit",function(){m(e);let d=l();return p(d.onSubmitProject())}),r(5,"div",16)(6,"div")(7,"label",17),o(8,"Name"),t(),u(9,"input",18),t(),r(10,"div")(11,"label",17),o(12,"Role"),t(),u(13,"input",19),t(),r(14,"div",20)(15,"label",17),o(16,"Description"),t(),u(17,"textarea",21),t(),r(18,"div")(19,"label",17),o(20,"Image URL"),t(),u(21,"input",22),t(),r(22,"div")(23,"label",17),o(24,"Technologies (comma-separated)"),t(),u(25,"input",23),t(),r(26,"div")(27,"label",17),o(28,"Project URL (optional)"),t(),u(29,"input",24),t()(),r(30,"div",25)(31,"button",26),b("click",function(){m(e);let d=l();return p(d.resetForm())}),o(32," Reset "),t(),r(33,"button",27),o(34),t()()()(),r(35,"div",13)(36,"h2",14),o(37,"Projects List"),t(),r(38,"div",28)(39,"table",29)(40,"thead",30)(41,"tr")(42,"th",31),o(43,"Name"),t(),r(44,"th",31),o(45,"Role"),t(),r(46,"th",31),o(47,"Technologies"),t(),r(48,"th",31),o(49,"Actions"),t()()(),r(50,"tbody",32),f(51,oe,12,3,"tr",33),t()()()()()}if(n&2){let e=l();s(4),g("formGroup",e.projectForm),s(29),g("disabled",e.projectForm.invalid),s(),y(" ",e.isEditing?"Update":"Add"," Project "),s(17),g("ngForOf",e.projects)}}function ae(n,i){if(n&1){let e=x();r(0,"div",43)(1,"div",44)(2,"div")(3,"h3",45),o(4),t(),r(5,"p",46),o(6),t(),r(7,"p",47),o(8),t(),r(9,"p",48),o(10),S(11,"date"),t()(),r(12,"button",40),b("click",function(){let d=m(e).$implicit,c=l(2);return p(c.deleteMessage(d.id))}),o(13,"Delete"),t()()()}if(n&2){let e=i.$implicit;s(4),h(e.name),s(2),h(e.email),s(2),h(e.message),s(2),y("Received on: ",I(11,4,e.sentAt,"short"),"")}}function se(n,i){if(n&1&&(r(0,"div",13)(1,"h2",14),o(2,"Contact Messages"),t(),r(3,"div",41),f(4,ae,14,7,"div",42),t()()),n&2){let e=l();s(4),g("ngForOf",e.messages)}}function de(n,i){if(n&1){let e=x();r(0,"div",13)(1,"h2",14),o(2,"Edit About Section"),t(),r(3,"div",41)(4,"textarea",49),F("ngModelChange",function(d){m(e);let c=l();return D(c.aboutContent,d)||(c.aboutContent=d),p(d)}),t(),r(5,"div",50)(6,"button",51),b("click",function(){m(e);let d=l();return p(d.updateAbout())}),o(7," Save Changes "),t()()()()}if(n&2){let e=l();s(4),A("ngModel",e.aboutContent)}}var te=class n{adminService=_(w);fb=_(X);router=_(H);projects=[];messages=[];aboutContent="";selectedTab="projects";tabs=["projects","messages","about"];projectForm;isEditing=!1;selectedProject=null;constructor(){this.projectForm=this.fb.group({name:["",v.required],role:["",v.required],description:["",v.required],imageUrl:[""],technologies:["",v.required],projectUrl:[""]})}ngOnInit(){this.loadData()}loadData(){this.adminService.getProjects().subscribe(i=>{this.projects=i}),this.adminService.getMessages().subscribe(i=>{console.log("Messages from backend: ",i),this.messages=i}),this.adminService.getAbout().subscribe(i=>{this.aboutContent=i.content})}onSubmitProject(){if(this.projectForm.valid){let i=j(C({},this.projectForm.value),{technologies:this.projectForm.value.technologies.split(",").map(e=>e.trim())});this.isEditing&&this.selectedProject?this.adminService.updateProject(this.selectedProject.id,i).subscribe(()=>{this.loadData(),this.resetForm()}):this.adminService.createProject(i).subscribe(()=>{this.loadData(),this.resetForm()})}}editProject(i){this.selectedProject=i,this.isEditing=!0,this.projectForm.patchValue(j(C({},i),{technologies:i.technologies.join(", ")}))}deleteProject(i){confirm("Are you sure you want to delete this project?")&&this.adminService.deleteProject(i).subscribe(()=>{this.loadData()})}deleteMessage(i){confirm("Are you sure you want to delete this message?")&&this.adminService.deleteMessage(i).subscribe(()=>{this.loadData()})}updateAbout(){this.adminService.updateAbout(this.aboutContent).subscribe(()=>{alert("About section updated successfully!")})}resetForm(){this.projectForm.reset(),this.isEditing=!1,this.selectedProject=null}logout(){localStorage.removeItem("token"),this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-admin-dashboard"]],standalone:!0,features:[M],decls:14,vars:4,consts:[[1,"admin-dashboard","min-h-screen","bg-gradient-to-r","from-bg-blue","to-bg-black"],[1,"absolute","bg-cover","bg-center","inset-0","bg-[url('/abstract-background.jpg')]","opacity-20","overflow-x-clip"],[1,"max-w-7xl","mx-auto","p-8","relative"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-white"],[1,"bg-red-600","text-white","px-4","py-2","rounded","hover:bg-red-700","transition","duration-300",3,"click"],[1,"border-b","border-gray-700","mb-8"],[1,"-mb-px","flex","space-x-8"],["class","whitespace-nowrap py-4 px-4 border-b-2 font-medium text-sm hover:text-white hover:bg-gray-800/50 transition duration-300 rounded-t-lg",3,"bg-gray-800","border-orange-400","text-orange-400","text-gray-400","border-transparent","click",4,"ngFor","ngForOf"],["class","space-y-8",4,"ngIf"],["class","bg-gray-900 p-6 rounded-lg shadow-lg border border-gray-800",4,"ngIf"],[1,"whitespace-nowrap","py-4","px-4","border-b-2","font-medium","text-sm","hover:text-white","hover:bg-gray-800/50","transition","duration-300","rounded-t-lg",3,"click"],[1,"space-y-8"],[1,"bg-gray-900","p-6","rounded-lg","shadow-lg","border","border-gray-800"],[1,"text-xl","font-semibold","mb-4","text-white"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-300"],["type","text","formControlName","name",1,"mt-1","block","w-full","rounded-md","bg-gray-800","border-gray-700","text-white","placeholder-gray-400","shadow-sm","focus:border-orange-400","focus:ring-orange-400","focus:bg-gray-800"],["type","text","formControlName","role",1,"mt-1","block","w-full","rounded-md","bg-gray-800","border-gray-700","text-white","placeholder-gray-400","shadow-sm","focus:border-orange-400","focus:ring-orange-400","focus:bg-gray-800"],[1,"md:col-span-2"],["formControlName","description","rows","3",1,"mt-1","block","w-full","rounded-md","bg-gray-800","border-gray-700","text-white","placeholder-gray-400","shadow-sm","focus:border-orange-400","focus:ring-orange-400","focus:bg-gray-800"],["type","text","formControlName","imageUrl",1,"mt-1","block","w-full","rounded-md","bg-gray-800","border-gray-700","text-white","placeholder-gray-400","shadow-sm","focus:border-orange-400","focus:ring-orange-400","focus:bg-gray-800"],["type","text","formControlName","technologies",1,"mt-1","block","w-full","rounded-md","bg-gray-800","border-gray-700","text-white","placeholder-gray-400","shadow-sm","focus:border-orange-400","focus:ring-orange-400","focus:bg-gray-800"],["type","text","formControlName","projectUrl",1,"mt-1","block","w-full","rounded-md","bg-gray-800","border-gray-700","text-white","placeholder-gray-400","shadow-sm","focus:border-orange-400","focus:ring-orange-400","focus:bg-gray-800"],[1,"flex","justify-end","space-x-4"],["type","button",1,"bg-gray-700","text-white","px-4","py-2","rounded","hover:bg-gray-600","transition","duration-300",3,"click"],["type","submit",1,"bg-orange-500","text-white","px-4","py-2","rounded","hover:bg-orange-600","transition","duration-300","disabled:bg-gray-600","disabled:cursor-not-allowed",3,"disabled"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-800"],[1,"bg-gray-800"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-400","uppercase","tracking-wider"],[1,"bg-gray-900","divide-y","divide-gray-800"],["class","hover:bg-blue-700 transition duration-300",4,"ngFor","ngForOf"],[1,"hover:bg-blue-700","transition","duration-300"],[1,"px-6","py-4","whitespace-nowrap","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-gray-300"],[1,"px-6","py-4","text-gray-300"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-orange-400","hover:text-orange-300","mr-4","transition","duration-300",3,"click"],[1,"text-red-500","hover:text-red-400","transition","duration-300",3,"click"],[1,"space-y-4"],["class","border-b border-gray-800 pb-4",4,"ngFor","ngForOf"],[1,"border-b","border-gray-800","pb-4"],[1,"flex","justify-between","items-start"],[1,"font-medium","text-white"],[1,"text-sm","text-gray-400"],[1,"mt-2","text-gray-300"],[1,"mt-2","text-sm","text-gray-500"],["rows","10",1,"w-full","rounded-md","bg-gray-800","border-gray-700","text-white","shadow-sm","focus:border-orange-400","focus:ring-orange-400",3,"ngModelChange","ngModel"],[1,"flex","justify-end"],[1,"bg-orange-500","text-white","px-4","py-2","rounded","hover:bg-orange-600","transition","duration-300",3,"click"]],template:function(e,a){e&1&&(r(0,"div",0),u(1,"div",1),r(2,"div",2)(3,"div",3)(4,"h1",4),o(5,"Admin Dashboard"),t(),r(6,"button",5),b("click",function(){return a.logout()}),o(7," Logout "),t()(),r(8,"div",6)(9,"nav",7),f(10,re,3,13,"button",8),t()(),f(11,ne,52,4,"div",9)(12,se,5,1,"div",10)(13,de,8,1,"div",10),t()()),e&2&&(s(10),g("ngForOf",a.tabs),s(),g("ngIf",a.selectedTab==="projects"),s(),g("ngIf",a.selectedTab==="messages"),s(),g("ngIf",a.selectedTab==="about"))},dependencies:[R,V,N,$,U,Y,J,L,q,W,z,Z,K,Q],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{color:#000!important;background-color:#e0e0e0!important;border-color:#5f34f8!important;padding:.5rem;border-radius:.375rem;width:100%;transition:all .2s ease-in-out}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#fb923c!important;box-shadow:0 0 0 3px #fb923ccc}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af!important}button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0;width:100%}th[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em}.error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.875rem;margin-top:.25rem}"]})};export{te as AdminDashboardComponent};
